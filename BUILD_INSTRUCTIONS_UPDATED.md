# Инструкции по сборке проекта StrodService

## Обзор

Этот документ описывает различные способы сборки проекта StrodService, включая локальную разработку, автономные исполняемые файлы и полноценные релизы.

## Типы сборок

### 1. Локальная разработка

Для активной разработки и тестирования:

```bash
# Установка зависимостей
npm install
cd src/frontend && npm install
cd ../backend-python && pip install -r requirements.txt
cd ../..

# Запуск приложения в режиме разработки
npm run start-electron
```

### 2. Автономный исполняемый файл (локально)

Для создания одного исполняемого файла, который можно запустить на компьютере без установленного Python:

```bash
# Убедитесь, что установлены зависимости
pip install pyinstaller
if [ -f requirements.txt ]; then pip install -r requirements.txt; fi

# Запустите скрипт сборки
chmod +x build-pyinstaller.sh
./build-pyinstaller.sh
```

Готовый файл будет в папке `dist/`.

### 3. Полноценный релиз (через GitHub Actions)

Для создания полноценного кроссплатформенного релиза:

1. Создайте тег в формате `vX.Y.Z` (например, `v1.0.0`)
2. Отправьте тег на GitHub: `git push origin vX.Y.Z`
3. GitHub Actions автоматически соберет приложение для Windows, Linux и macOS
4. Результаты сборки будут доступны в разделе Releases

См. подробности в [RELEASE_GUIDE.md](RELEASE_GUIDE.md).

## Поддерживаемые платформы

- Windows (7 и выше)
- macOS (10.12 и выше)
- Linux (Ubuntu 18.04+, CentOS 7+ и другие современные дистрибутивы)

## Особенности сборки

### Windows
- Используется `build-release.bat` для сборки
- Создаются `.exe` файлы
- Поддерживается сборка с помощью PyInstaller и Electron Builder

### Linux/macOS
- Используется `build-release.sh` для сборки
- Создаются исполняемые файлы без расширения (Linux) или `.app` (macOS)
- Также возможна сборка с помощью PyInstaller

## Требования для сборки

### Общие требования
- Git
- Node.js (версия 16 или выше)
- Python (версия 3.8 или выше)

### Для PyInstaller сборки
- PyInstaller
- Все зависимости из `requirements.txt`

### Для Electron сборки
- npm/yarn
- electron-builder
- Системные зависимости для сборки native модулей

## Рекомендации

1. Используйте систему тегов и релизов GitHub для полноценных релизов
2. Для внутреннего тестирования используйте локальную сборку
3. Для распространения среди пользователей создавайте тегированные релизы
4. Проверяйте сборку на всех целевых платформах перед выпуском релиза