# Сводка изменений и проекта "Строд-Сервис Технолоджи"

## Описание проекта

"Строд-Сервис Технолоджи" - комплексное решение для управления строительными проектами, включающее модули для ведения ГПР, учета исполнительной документации, управления материалами и отслеживания замечаний от строительного контроля. Проект включает в себя десктопное приложение на Electron с Python-бэкендом.

## Основные компоненты

### Архитектура
- Десктопное приложение на Electron
- Frontend: React с TypeScript
- Backend: Python (FastAPI)
- База данных: SQLite (.db файл)
- Система аутентификации с JWT-токенами

### Основные функциональные модули
1. График производства работ (ГПР)
2. Управление проектами
3. Документооборот
4. Справочники
5. Управление материалами
6. Отчетность
7. Учет замечаний от строительного контроля

## Недавно решенная проблема

### Проблема с GitHub Actions
GitHub Actions не могла успешно завершить задачу по загрузке релизного ассета, потому что скрипт пытался найти файл `./dist/doc_tracking_system.exe`, который не существовал на Linux системах, где исполняются GitHub Actions. PyInstaller в Linux создает исполняемый файл без расширения `.exe`.

### Решенные проблемы

1. **Проблема с GitHub Actions**
   - Исправлено: Ошибка `ENOENT: нет такого файла или каталога, откройте './dist/doc_tracking_system.exe'`
   - Причина: В Linux системах PyInstaller создает исполняемый файл без расширения `.exe`
   - Решение: Обновлен файл `.github/workflows/release-on-push.yml` для использования правильного имени файла

2. **Документация обновлена**
   - Добавлены инструкции о различиях в именах исполняемых файлов в разных операционных системах
   - Обновлены руководства по сборке приложения

## Технические изменения

### Файлы, которые были изменены:

1. **`.github/workflows/release-on-push.yml`**
   - Изменено: `./dist/doc_tracking_system.exe` → `./dist/doc_tracking_system`
   - Изменено: `name: 'doc_tracking_system.exe'` → `name: 'doc_tracking_system'`

2. **`README.md`**
   - Добавлена информация о различиях в именах исполняемых файлов в зависимости от ОС

3. **`DOC_TRACKING_SYSTEM_README.md`**
   - Добавлен раздел о сборке исполняемого файла с помощью PyInstaller

4. **`BUILD_INSTRUCTIONS.md`**
   - Обновлены инструкции с учетом особенностей разных операционных систем

5. **`ANALYSIS_SUMMARY.md`**
   - Добавлена информация о решенной проблеме с GitHub Actions

6. **`FIXES.md`**
   - Добавлена информация о последнем исправлении

## Результат

Теперь GitHub Actions успешно работает на Linux системах и может находить и загружать исполняемый файл, созданный PyInstaller. Проект полностью готов к автоматическому созданию релизов на различных платформах.

## Дополнительная информация

- В Windows системах исполняемый файл будет иметь имя `doc_tracking_system.exe`
- В Linux/macOS системах исполняемый файл будет иметь имя `doc_tracking_system` (без расширения)
- Скрипт сборки `build-pyinstaller.sh` корректно работает на всех системах и создает исполняемый файл в папке `dist/`

## Структура проекта

```
/workspace/
├── src/                    # Исходный код
│   ├── backend-python/     # Python-бэкенд (FastAPI)
│   ├── frontend/          # React-фронтенд
│   ├── shared/            # Общие типы и конфигурации
│   └── docs/              # Документация
├── electron-main.js       # Главный процесс Electron
├── preload.js             # Preload-скрипт безопасности
├── package.json           # Зависимости и скрипты
├── build-release.bat      # Скрипт сборки для Windows
├── build-release.sh       # Скрипт сборки для Linux/macOS
└── electron-builder-config.js # Конфигурация сборки
```